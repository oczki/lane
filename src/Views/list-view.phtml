<?php if (!isset($this->context->list)) return ?>

<table id="list">
	<thead>
		<tr>
			<?php foreach (ListService::getColumns($this->context->list) as $columnIndex => $column): ?>
				<th class="<?= join(' ', ListService::getColumnModifiers($this->context->list, $columnIndex)) ?>" style="width: <?= $column->width ?>%">
					<?= $column->name ?>
				</th>
			<?php endforeach ?>
		</tr>
	</thead>

	<tbody>
		<?php foreach (ListService::getRows($this->context->list) as $rowIndex => $row): ?>
			<?php foreach (ListService::getColumns($this->context->list) as $columnIndex => $column): ?>
				<td class="<?= join(' ', ListService::getColumnModifiers($this->context->list, $columnIndex)) ?>">
					<?= $row[$columnIndex] ?>
				</td>
			<?php endforeach ?>
		<?php endforeach ?>
	</tbody>

	<tfoot>
		<tr class="row-template">
			<?php foreach (ListService::getColumns($this->context->list) as $columnIndex => $column): ?>
				<td class="<?= join(' ', ListService::getColumnModifiers($this->context->list, $columnIndex)) ?>">
				</td>
			<?php endforeach ?>
		</tr>
	</tfoot>
</table>

<?php if ($this->context->canEdit): ?>
	<div id="add-row">
		<input type="button" value="Add new row"/>
	</div>
<?php endif ?>

<pre><?= TextHelper::keepWhiteSpace(print_r($this->context->list->content, true)) ?></h1>
